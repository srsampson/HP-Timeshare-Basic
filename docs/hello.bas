80  REM HP CONTRIBUTED LIBRARY, REV. C, 2/75
100  REM   "HELLO" - TSB PROGRAM ORIGINALLY BY PETER WOLMUT &
110  REM  JAMES R. HANSZ, MULTNOMAH CO. I.E.D, PORTLAND, ORE.
120  REM  REVISED 11/74 BY A. POTH, GAVILAN COLLEGE, GILROY, CAL.
130  REM INSERT PRINT STATEMENT REGARDING NAME OR ORGANIZATION
135  PRINT 
140  GOTO 210
150  PRINT 
160  REM -- ADDITIONAL PRINT STATEMENTS IN LINES 160-190.
161  PRINT "HP2000 Access Timeshare BASIC"
198  PRINT 
199  PRINT "READY"
200  STOP 
210  DIM A[14],D$[27],N$[25],Q$[2]
220  DATA 0,31,60,91,121,152,182,213,244,274,305,335,366,999
230  DATA 0,31,59,90,120,151,181,212,243,273,304,334,365,999
240  LET S=TIM(0)
250  LET H=TIM(1)
260  LET D=TIM(2)
270  LET Y=TIM(3)
280  LET N$="0123456789000000000000000"
290  LET D$="  -  -     :   AM  PORT #  "
300  ENTER #P
310  LET Q=P
320  GOSUB 670
330  LET D$[26,27]=Q$
340  LET Q=H
350  IF (H*100+S)<1201 THEN 390
360  LET D$[16,17]="PM"
370  IF H<13 THEN 390
380  LET Q=H-12
390  GOSUB 670
400  LET D$[10,11]=Q$
410  LET Q=S
420  GOSUB 670
430  LET D$[13,14]=Q$
440  IF Y/4=INT(Y/4) THEN 650
450  RESTORE 230
460  MAT  READ A
470  FOR I=1 TO 14
480  IF D>A[I] THEN 640
490  IF I<14 THEN 530
500  LET D=D-A[13]
510  LET Y=Y+1
520  GOTO 300
530  LET Q=I-1
540  GOSUB 670
550  LET D$[1,2]=Q$
560  LET Q=D-A[I-1]
570  GOSUB 670
580  LET D$[4,5]=Q$
590  LET Q=Y
600  GOSUB 670
610  LET D$[7,8]=Q$
620  PRINT D$
630  GOTO 150
640  NEXT I
650  RESTORE 220
660  GOTO 460
670  REM NUMBER-TO-STRING
680  LET N=INT(Q/10)
700  LET Q$[1,1]=N$[N+1,N+1]
705  LET N=Q-N*10
710  LET Q$[2,2]=N$[N+1,N+1]
720  RETURN 
999  END 

